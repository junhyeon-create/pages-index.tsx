import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";

export default function SlotMachinePage() {
  const [balance, setBalance] = useState(1000);
  const [slotResult, setSlotResult] = useState("🎰 🎰 🎰");
  const slotSymbols = ["🍒", "🍋", "🔔", "🍀", "7️⃣"];

  const playSlot = () => {
    const bet = 100;
    if (balance < bet) {
      alert("잔고가 부족합니다!");
      return;
    }

    const spin = [0, 0, 0].map(() => Math.floor(Math.random() * slotSymbols.length));
    const displayed = spin.map((i) => slotSymbols[i]).join(" | ");
    const reward = spin.every((v) => v === spin[0]) ? bet * 5 : 0;

    setSlotResult(displayed);
    setBalance(balance - bet + reward);
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 to-black text-white">
      <Card className="p-8 max-w-md w-full text-center">
        <CardContent>
          <h1 className="text-3xl font-bold mb-4">🎰 슬롯머신</h1>
          <p className="text-lg mb-4">💰 잔고: <span className="font-bold text-green-400">{balance} 코인</span></p>
          <div className="text-5xl mb-6">{slotResult}</div>
          <Button onClick={playSlot} className="bg-yellow-500 hover:bg-yellow-400 w-full">100코인 베팅</Button>
        </CardContent>
      </Card>
    </div>
  );
}
